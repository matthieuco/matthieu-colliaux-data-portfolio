version: 2

models:   
  - name: int_delivery_delay 
    description: "Intermediate model calculating delivery delays for delivered orders"
    columns:
      - name: order_id
        description: "Unique identifier of an order"
        tests:
          - not_null          
      - name: customer_unique_id
        description: "Unique identifier of a customer associated with the order"
        tests:
          - not_null
      - name: order_date
        description: "Date when the order was purchased"
        tests:
          - not_null
      - name: estimated_delivery_date           
        description: "Estimated delivery date for the order"
        tests:
          - not_null            
      - name: delivered_date
        description: "Actual delivery date for the order" 
      - name: delay_days
        description: "Number of days the delivery was delayed (positive) or early (negative)"         
      - name: is_delayed
        description: "Indicator whether the delivery was delayed (TRUE) or on time (FALSE)"
  - name: int_seller_per_order
    description: "Intermediate model identifying the top seller per order based on revenue"
    columns:
      - name: order_id
        description: "Unique identifier of an order"
        tests:
          - not_null          
      - name: seller_id
        description: "Unique identifier of the top seller for the order"
        tests:
          - not_null
      - name: revenueOrderxSellers
        description: "Total revenue generated by the top seller for the order"
  - name: int_review_per_order
    description: "Intermediate model capturing the latest review per order"
    columns:
      - name: order_id
        description: "Unique identifier of an order"
        tests:
          - not_null  
          - unique        
      - name: review_score
        description: "Score given in the latest review for the order"
        tests:
          - not_null
      - name: review_date
        description: "Date when the latest review was submitted for the order"
        tests:
          - not_null 
  - name: int_items_per_order
    description: "Intermediate model calculating number of items and total value per order"
    columns:
      - name: order_id
        description: "Unique identifier of an order"
        tests:
          - not_null          
      - name: order_value
        description: "Total monetary value of the order including price and freight"
        tests:
          - not_null          
      - name: nb_items_order
        description: "Number of items included in the order"
        tests:
          - not_null  